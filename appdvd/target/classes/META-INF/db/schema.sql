CREATE SEQUENCE db_dvd AS INTEGER START WITH 1;

CREATE TABLE user
(
  User_id INTEGER GENERATED BY DEFAULT AS SEQUENCE db_dvd PRIMARY KEY,
  User_login VARCHAR(255) NOT NULL,
  User_pass VARCHAR(255) NOT NULL
);

CREATE TABLE disk
(
  Disk_id INTEGER GENERATED BY DEFAULT AS SEQUENCE db_dvd PRIMARY KEY,
  Disk_title VARCHAR(255) NOT NULL,
  User_id INTEGER NOT NULL,
  FOREIGN KEY ( User_id ) REFERENCES user ( User_id ) ON DELETE CASCADE
);

CREATE TABLE takenitem
(
  TakenItem_id INTEGER GENERATED BY DEFAULT AS SEQUENCE db_dvd PRIMARY KEY,
  Disk_id INTEGER NOT NULL,
  User_id INTEGER NOT NULL,
  FOREIGN KEY ( Disk_id ) REFERENCES disk ( Disk_id ) ON DELETE CASCADE,
  FOREIGN KEY ( User_id ) REFERENCES user ( User_id ) ON DELETE CASCADE
);

